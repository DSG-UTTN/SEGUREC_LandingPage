# SEGUREC Landing Page - Configuracion Apache BASICA

RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^.]+)$ $1.php [NC,L]

# Pagina de inicio por defecto

DirectoryIndex index.php index.html

# Proteger archivos de configuracion
<Files "config.php">

    Order Allow,Deny

    Deny from all

</Files>
<Files "functions.php">

    Order Allow,Deny

    Deny from all

</Files>
<Files "composer.*">

    Order Allow,Deny

    Deny from all

</Files>
<Files "package*.json">

    Order Allow,Deny

    Deny from all

</Files>

# Comprimir contenido (solo si esta disponible)
<IfModule mod_deflate.c>

    AddOutputFilterByType DEFLATE text/plain

    AddOutputFilterByType DEFLATE text/html

    AddOutputFilterByType DEFLATE text/css

    AddOutputFilterByType DEFLATE application/javascript

</IfModule>

# Cache basico para archivos estaticos
<IfModule mod_expires.c>

    ExpiresActive on

    ExpiresByType text/css "access plus 1 month"

    ExpiresByType application/javascript "access plus 1 month"

    ExpiresByType image/png "access plus 1 month"

    ExpiresByType image/jpg "access plus 1 month"

    ExpiresByType image/jpeg "access plus 1 month"

    ExpiresByType image/gif "access plus 1 month"

    ExpiresByType image/svg+xml "access plus 1 month"

</IfModule>

# Headers de seguridad basicos
<IfModule mod_headers.c>

    Header always set X-Content-Type-Options "nosniff"

    Header always set X-Frame-Options "SAMEORIGIN"

</IfModule>

# Desactivar listado de directorios
Options -Indexes

# Bloquear acceso a archivos sensibles
<FilesMatch "\.(htaccess|htpasswd|ini|log|php~|php#|php.bak|php.swp|php.old|md)$">

    Order Allow,Deny

    Deny from all

</FilesMatch>

# Configuracion basica de PHP (si esta disponible)
<IfModule mod_php7.c>

    php_flag display_errors off

    php_value memory_limit 128M

    php_value max_execution_time 30

    php_value post_max_size 32M

    php_value upload_max_filesize 32M

</IfModule>
<IfModule mod_php8.c>

    php_flag display_errors off

    php_value memory_limit 128M

    php_value max_execution_time 30

    php_value post_max_size 32M

    php_value upload_max_filesize 32M

</IfModule>